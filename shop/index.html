<!DOCTYPE html>
<html>
    <head>
        <title>Shop</title>

        <meta http-equiv="Cache-Control" content="max-age=0, no-cache">
    </head>

    <link rel="stylesheet" href="style.css">

    <body>
        <header>
            <a href="../index.html"><img src="../icon.png" alt="Store Icon" width="60px" height="60px"></a>
            <ul>
                <li><a href="/shop/index.html" class="nav-button">Einkaufen</a></li>
                <li><a href="#" class="nav-button">Einkaufswagen</a></li>
                <li><a href="#" class="nav-button">Zur Kasse</a></li>
                <li><a href="#" class="nav-button">Kundenservice</a></li>
                <li><a href="../login.html" class="nav-button">Konto</a></li>
            </ul>
        </header>
        <main>
            <ul></ul>
        </main>
        <footer>
            <a href="#">Impressum</a>
        </footer>

        <script type="module" >
            const { body } = document;

            async function itemToHTML(iName) {
                let response = await fetch(`./items/${iName}/${iName}.json`, {cache: "reload"})
                let item = await response.json()
                let html = `<a class="item-image"><img id="image" src="items/${iName}/${item.img}" alt="${item.name}" width="50px" height="50px"></a><a class="item-name">${item.name}</a><a class="item-price">${item.price}&#8364</a><a><button class="item-button">Kaufen</button></a>`
                let child = document.createElement('li');

                child.innerHTML = html;
                child.className = "item-container"
                
                body.querySelector("main").querySelector("ul").appendChild(child)
            }
            await itemToHTML("apple")
            await itemToHTML("banana")
            await itemToHTML("birne")
        </script>
    </body>


</html>